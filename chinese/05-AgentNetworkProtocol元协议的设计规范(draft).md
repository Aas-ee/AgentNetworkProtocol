# 05-AgentNetworkProtocol元协议的设计规范

备注：
- 本章节内容为草稿阶段，后续可能会根据实际情况进行大幅调整。

## 元协议的作用

所谓的元协议，即协商通信使用协议的协议。在元协议层，我们主要参考和借鉴的是Agora Protocol（https://arxiv.org/html/2410.11905v1）。
当前的互联网世界，存在着巨大的数据孤岛现象，数据的流动集中在孤岛内容，而孤岛和孤岛之间则只有少量数据流动。
这一结果的出现，一个原因是因为互联网巨头为了最大化商业价值，另外一个是技术上的原因，互联网业务的复杂性，导致异构系统通过协议互通要付出巨大的成本。所以传统的互联网世界，只有email这一种类型的业务算得上是真正开放的业务。这里面的根本原因在于Agora Protocol论文中提出的异构网络通信的不可能三角：
- Versatility（多功能性）：支持各种应用类型的消息
- Efficiency（效率）：网络运行效率最高、成本最低
- Portability（可移植性）：支持协议修改代码最少

## 元协议的实现

LLM加持的智能体结合元协议是解决这一问题的良方：
- 智能体之间首先使用自然语言，互相沟通各自的能力、数据交换格式、使用的协议等，确定智能体之间通信的协议细节。
- 根据协商结果，智能体使用LLM构造和处理协议消息，或者使用智能体生成处理协议的代码，来构造和处理协议消息。
- 智能体之间进行协议联调，使用LLM判断协议消息是否符合协商规范，如果不符合，则通过自然语言交换进行解决。
- 最后，智能体使用最终的协议进行通信。
有了元协议的加持，智能体网络有可能会演进成一个自组织、自协商的高效协作网络，并且会诞生非常多智能体之间达成共识的通信协议，这些协议的数量将会大大超过人类制定协议的数量。


## 为什么需要协议协商

- 提高数据传输效率：在数据进入LLM之前，先进行协议协商，可以减少LLM处理的数据量，提高数据传输效率。
- 提高数据理解的准确性：通过数据源对数据结构化，而非直接让LLM处理非结构化的数据，可以提高数据理解的准确性。
- 降低数据处理复杂度：特定领域数据复杂度高，当前行业已经有大量协议规范，比如音视频流程中的数据。


## 协议协商的流程

并非所有的流程要进行协商，有些标准流程可以免协商，直接使用。

